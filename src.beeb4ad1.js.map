{"version":3,"sources":["index.js"],"names":["refs","button","document","querySelector","input","countryList","countryInfo","DEBOUNCE_DELAY","countryInput","onClickEvent","event","innerHTML","fetchCountry","then","data","console","dir","undefined","length","alert","map","country","flag","flags","svg","name","official","log","markUpList","insertAdjacentHTML","languages","Object","values","join","countryData","officialName","capital","population","onInput","currentTarget","value","fetch","r","status","json","catch","error","addEventListener"],"mappings":";;;AAqHC,aArHD,QAAA,oBAEA,MAAMA,EAAO,CACTC,OAAQC,SAASC,cAAc,gBAC/BC,MAAOF,SAASC,cAAc,eAC9BE,YAAaH,SAASC,cAAc,iBACpCG,YAAaJ,SAASC,cAAc,kBAGlCI,EAAiB,IAEvB,IAAIC,EAAe,GAKnB,SAASC,EAAaC,GAElBV,EAAKK,YAAYM,UAAY,GAC7BX,EAAKM,YAAYK,UAAY,GAE7BC,EAAaJ,GACRK,KAAKC,IAIDA,GAFLC,QAAQC,IAAIF,GAECG,MAARH,EACD,OAGIA,GAAAA,EAAKI,OAAS,GAGlB,YADAC,MAAM,8DAIFL,GAAAA,EAAKI,OAAS,EAAG,CAEfb,MAAAA,EAAcS,EAAKM,IAAIC,IAEnBhB,MAAAA,EAAc,CAChBiB,KAAMD,EAAQE,MAAMC,IACpBC,KAAMJ,EAAQI,KAAKC,UAGvBX,QAAQY,IAAItB,GAENuB,MAAAA,kFACmDvB,EAAYiB,uBAAuBjB,EAAYoB,kDAGxGzB,EAAKK,YAAYwB,mBAAmB,YAAaD,KAMrD,YAFAb,QAAQY,IAAItB,GAKZL,EAAKK,YAAYM,UAAY,GAEvBmB,MAAAA,EAAYC,OAAOC,OAAOlB,EAAK,GAAGgB,WAAWG,KAAK,MAElDC,EAAc,CAEhBC,aAAcrB,EAAK,GAAGW,KAAKC,SAC3BJ,KAAMR,EAAK,GAAGS,MAAMC,IACpBY,QAAStB,EAAK,GAAGsB,QACjBC,WAAYvB,EAAK,GAAGuB,WACpBP,UAAAA,GAGJf,QAAQY,IAAIO,EAAYJ,WAExB9B,EAAKM,YAAYK,2GAE0BuB,EAAYZ,sCACjDY,EAAYC,uGAIZD,EAAYE,mGAIZF,EAAYG,4GAIZH,EAAYJ,gCAK9B,SAASQ,EAAQ5B,GAEbF,EAAeE,EAAM6B,cAAcC,MAGvC,SAAS5B,EAAaS,GACVoB,OAAAA,6CAA6CpB,qDAChDR,KAAK6B,IACGA,GAAY,KAAZA,EAAEC,OAAFD,CAIAA,GAAY,KAAZA,EAAEC,OAKCD,OAAAA,EAAEE,OAJLzB,MAAM,gCAJNA,MAAM,8CASZ0B,MAAMC,IACL3B,MAAM,WArGlBnB,EAAKI,MAAM2C,iBAAiB,QAAST,GACrCtC,EAAKC,OAAO8C,iBAAiB,QAAStC","file":"src.beeb4ad1.js","sourceRoot":"../src","sourcesContent":["import './css/styles.css';\n\nconst refs = {\n    button: document.querySelector('.button-test'),\n    input: document.querySelector('#search-box'),\n    countryList: document.querySelector('.country-list'),\n    countryInfo: document.querySelector('.country-info'),\n}\n\nconst DEBOUNCE_DELAY = 300;\n\nlet countryInput = \"\";\n\nrefs.input.addEventListener('input', onInput);\nrefs.button.addEventListener('click', onClickEvent);\n\nfunction onClickEvent(event) {\n\n    refs.countryList.innerHTML = \"\";\n    refs.countryInfo.innerHTML = \"\";\n    // console.log(countryInput);\n    fetchCountry(countryInput)\n        .then(data => {\n\n        console.dir(data)\n\n         if (data == undefined) {\n            return\n        }\n\n            if (data.length > 10) {\n                \n            alert(\"Too many matches found. Please enter a more specific name.\")\n            return\n        };\n\n            if (data.length > 1) {\n\n            const countryList = data.map(country => {\n                // console.log(country.name.official);\n                const countryList = {\n                    flag: country.flags.svg,\n                    name: country.name.official,\n                }\n\n                console.log(countryList);\n\n                const markUpList = `<li>\n                                        <img class=\"country-flag\" src=\"${countryList.flag}\" alt=\"flag\"></>${countryList.name}\n                                    </li>`\n\n                refs.countryList.insertAdjacentHTML('beforeend', markUpList);\n\n            });\n\n            console.log(countryList);\n\n            return\n            } \n            \n            refs.countryList.innerHTML = \"\";\n\n            const languages = Object.values(data[0].languages).join(', ');\n\n            const countryData = {\n\n                officialName: data[0].name.official,\n                flag: data[0].flags.svg,\n                capital: data[0].capital,\n                population: data[0].population,\n                languages,\n            }\n\n            console.log(countryData.languages);\n\n            refs.countryInfo.innerHTML = `\n            <h1 class=\"country-name\">\n                 <img class=\"country-flag--big\" src=\"${countryData.flag}\" alt=\"flag\">\n                ${countryData.officialName}\n             </h1>\n            <p>\n                <b>Capital:</b>\n                ${countryData.capital}\n            </p>\n            <p>\n                <b>Population:</b>\n                ${countryData.population} people\n            </p>\n            <p>\n                <b>Languages:</b>\n                ${countryData.languages}\n            </p>`\n        })\n}\n\nfunction onInput(event) {\n    // console.dir(event.currentTarget.value);\n    countryInput = event.currentTarget.value\n}\n\nfunction fetchCountry(country) {\n     return fetch(`https://restcountries.com/v3.1/name/${country}?fields=name,capital,population,flags,languages;`)\n        .then(r => {\n             if (r.status == 404) {\n                 alert(\"Oops, there is no country with that name\")\n                return\n             }\n             if (r.status != 200) {\n                 alert(\"Oops, we are all doomed\")\n                return\n             }\n        \n             return r.json()\n        }).catch(error => {\n            alert('error');\n         })\n         \n};"]}