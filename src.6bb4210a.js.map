{"version":3,"sources":["index.js"],"names":["refs","button","document","querySelector","input","DEBOUNCE_DELAY","countryInput","onClickEvent","event","fetchCountry","then","data","console","dir","undefined","length","alert","countryList","map","country","flag","flags","svg","name","official","log","countryData","officialName","capital","population","languages","onInput","currentTarget","value","fetch","r","status","json","catch","error","addEventListener"],"mappings":";;;AAsFC,aAtFD,QAAA,oBAEA,MAAMA,EAAO,CACTC,OAAQC,SAASC,cAAc,gBAC/BC,MAAOF,SAASC,cAAc,gBAG5BE,EAAiB,IAEvB,IAAIC,EAAe,GAKnB,SAASC,EAAaC,GAElBC,EAAaH,GACRI,KAAKC,IAGDA,GAFLC,QAAQC,IAAIF,GAECG,MAARH,EACD,OAIAA,GAAAA,EAAKI,OAAS,GAEd,YADAC,MAAM,8DAINL,GAAAA,EAAKI,OAAS,EAAG,CAIXE,MAAAA,EAAcN,EAAKO,IAAIC,IAEnBF,MAAAA,EAAc,CAChBG,KAAMD,EAAQE,MAAMC,IACpBC,KAAMJ,EAAQI,KAAKC,UAGvBZ,QAAQa,IAAIR,KAOhB,YAFAL,QAAQa,IAAIR,GAKhBL,QAAQa,IAAI,YAENC,MAAAA,EAAc,CAEhBC,aAAchB,EAAK,GAAGY,KAAKC,SAC3BJ,KAAMT,EAAK,GAAGU,MAAMC,IACpBM,QAASjB,EAAK,GAAGiB,QACjBC,WAAYlB,EAAK,GAAGkB,WACpBC,UAAWnB,EAAK,GAAGmB,WAGvBlB,QAAQa,IAAIC,KAKpB,SAASK,EAAQvB,GAEbF,EAAeE,EAAMwB,cAAcC,MAGvC,SAASxB,EAAaU,GACVe,OAAAA,6CAA6Cf,qDAChDT,KAAKyB,IACGA,GAAY,KAAZA,EAAEC,OAKCD,OAAAA,EAAEE,OAJLrB,MAAM,8CAKZsB,MAAMC,IACLvB,MAAM,WAvElBhB,EAAKI,MAAMoC,iBAAiB,QAAST,GACrC/B,EAAKC,OAAOuC,iBAAiB,QAASjC","file":"src.6bb4210a.js","sourceRoot":"../src","sourcesContent":["import './css/styles.css';\n\nconst refs = {\n    button: document.querySelector('.button-test'),\n    input: document.querySelector('#search-box'),\n}\n\nconst DEBOUNCE_DELAY = 300;\n\nlet countryInput = \"\";\n\nrefs.input.addEventListener('input', onInput);\nrefs.button.addEventListener('click', onClickEvent);\n\nfunction onClickEvent(event) {\n    // console.log(countryInput);\n    fetchCountry(countryInput)\n        .then(data => {\n        console.dir(data)\n\n         if (data == undefined) {\n            return\n        }\n        // console.log(data.length);\n\n        if (data.length > 10) {\n            alert(\"Too many matches found. Please enter a more specific name.\")\n            return\n        };\n\n        if (data.length > 1) {\n\n            // console.log('more then 1')\n\n            const countryList = data.map(country => {\n                // console.log(country.name.official);\n                const countryList = {\n                    flag: country.flags.svg,\n                    name: country.name.official,\n                }\n\n                console.log(countryList);\n\n                // return country.name.official;\n            });\n\n            console.log(countryList);\n\n            return\n        } \n        \n        console.log('only one');\n\n        const countryData = {\n\n            officialName: data[0].name.official,\n            flag: data[0].flags.svg,\n            capital: data[0].capital,\n            population: data[0].population,\n            languages: data[0].languages,\n        }\n\n        console.log(countryData);\n\n        })\n}\n\nfunction onInput(event) {\n    // console.dir(event.currentTarget.value);\n    countryInput = event.currentTarget.value\n}\n\nfunction fetchCountry(country) {\n     return fetch(`https://restcountries.com/v3.1/name/${country}?fields=name,capital,population,flags,languages;`)\n        .then(r => {\n             if (r.status == 404) {\n                 alert(\"Oops, there is no country with that name\")\n                return\n             }\n        \n             return r.json()\n        }).catch(error => {\n            alert('error');\n         })\n    \n         \n};"]}